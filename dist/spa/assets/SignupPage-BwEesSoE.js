import{Q as w}from"./uid-CKt4xLxa.js";import{Q as V}from"./QBanner-DT5U7ZlN.js";import{Q as P,a as g}from"./QForm-WvtlJZrf.js";import{v as q,r as i,x,y as h,z as o,A,B as C,C as s,E as r,N,H as v,I as B,M as E,Q as y}from"./index-BaVYnzeZ.js";import{Q as I}from"./QCard-DpQni28h.js";import{Q as W}from"./QPage-CFXxS5AB.js";import{u as F}from"./use-quasar-C0v5808h.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-dark-DkeVdRfg.js";import"./focus-manager-zjdVGI5d.js";const U={class:"text-center q-py-md"},T={class:"row q-mt-md justify-center q-gutter-md"},$={class:"text-center q-mt-sm"},j={__name:"SignupPage",setup(z){const m=A(),u=F(),p=q(),b=i(""),f=i(""),d=i(""),c=i(!0),l=i(!1),n=i(""),S=async()=>{try{l.value=!0,n.value="";const a=await p.signup(f.value,d.value);a.success?(u.notify({type:"positive",message:"Account created successfully! Please check your email for verification.",position:"top",timeout:2500}),m.push("/verify-email")):(d.value="",n.value=a.message||"Signup failed",a.reason==="auth/email-already-in-use"||a.reason==="EMAIL_EXISTS"?u.notify({type:"negative",message:"This email is already registered",position:"top",timeout:2500}):a.reason==="auth/weak-password"||a.reason==="WEAK_PASSWORD"?u.notify({type:"negative",message:"Password too weak",caption:"Please use at least 6 characters",position:"top",timeout:2500}):u.notify({type:"negative",message:a.message||"Signup failed",position:"top",timeout:2500}))}catch(a){console.error("Signup error:",a),n.value="An unexpected error occurred",u.notify({type:"negative",message:"An unexpected error occurred during signup",position:"top",timeout:2500})}finally{l.value=!1}},_=async()=>{await p.loginWithGoogle()&&m.push("/dashboard")},Q=async()=>{await p.loginWithFacebook()&&m.push("/dashboard")};return(a,e)=>{const k=C("router-link");return h(),x(W,{class:"flex flex-center bg-grey-2"},{default:o(()=>[s(I,{class:"auth-card q-pa-lg"},{default:o(()=>[s(w,{class:"text-center"},{default:o(()=>e[4]||(e[4]=[r("div",{class:"text-h4 text-weight-bold text-primary"},"Create Account",-1),r("div",{class:"text-subtitle1 text-grey-7"},"Start your musical journey",-1)])),_:1}),s(w,null,{default:o(()=>[s(P,{onSubmit:S,class:"q-gutter-md"},{default:o(()=>[n.value?(h(),x(V,{key:0,class:"bg-negative text-white q-mb-md"},{default:o(()=>[v(B(n.value),1)]),_:1})):N("",!0),s(g,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=t=>b.value=t),label:"Full Name",filled:"",rules:[t=>!!t||"Name is required"],disable:l.value},null,8,["modelValue","rules","disable"]),s(g,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=t=>f.value=t),label:"Email",type:"email",filled:"",rules:[t=>!!t||"Email is required",t=>/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"Please enter a valid email"],disable:l.value},null,8,["modelValue","rules","disable"]),s(g,{modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=t=>d.value=t),label:"Password",type:c.value?"password":"text",filled:"",rules:[t=>!!t||"Password is required",t=>t.length>=6||"Password must be at least 6 characters"],disable:l.value},{append:o(()=>[s(E,{name:c.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[2]||(e[2]=t=>c.value=!c.value)},null,8,["name"])]),hint:o(()=>e[5]||(e[5]=[v(" Must be at least 6 characters long ")])),_:1},8,["modelValue","type","rules","disable"]),s(y,{type:"submit",color:"primary",class:"full-width",size:"lg",loading:l.value,label:"Sign Up"},null,8,["loading"])]),_:1}),r("div",U,[e[6]||(e[6]=r("div",{class:"text-grey-6"},"Or sign up with",-1)),r("div",T,[s(y,{flat:"",round:"",color:"red",icon:"fab fa-google",onClick:_}),s(y,{flat:"",round:"",color:"blue",icon:"fab fa-facebook-f",onClick:Q})])]),r("div",$,[s(k,{to:"/login",class:"text-primary"},{default:o(()=>e[7]||(e[7]=[v(" Already have an account? Login ")])),_:1})])]),_:1})]),_:1})]),_:1})}}},Z=M(j,[["__scopeId","data-v-9424d535"]]);export{Z as default};
