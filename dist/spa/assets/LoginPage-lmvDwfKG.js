import{Q as _,a as x}from"./QInput-D0PC3Ozi.js";import{Q as d,a as q}from"./QBtn-DnE1OJ2N.js";import{Q as E}from"./QBanner-BAP4fe1n.js";import{Q as B}from"./QForm-CacAoefb.js";import{Q as L}from"./QCard-BhPMv75Y.js";import{Q as N}from"./QPage-b_71ulio.js";import{u as S,r as i,s as y,t as b,v as s,x as P,y as D,z as t,B as r,I as h,C as w,D as F,J as R}from"./index-Djx0hmQp.js";import{u as W}from"./use-quasar-D-RMUAQk.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./render-C8JR9mId.js";import"./use-dark-cG9WRWH4.js";import"./focus-manager-BJWzFvJg.js";const G={class:"text-center q-py-md"},O={class:"row q-mt-md justify-center q-gutter-md"},T={class:"text-center q-mt-sm"},j={__name:"LoginPage",setup(z){const m=P(),f=W(),l=S(),p=i(""),n=i(""),u=i(!0),c=i(""),g=i(!1),v=i(!1),V=async()=>{c.value="",g.value=!1;const a=await l.login(p.value,n.value);a.success?m.push("/dashboard"):(c.value=l.error,n.value="",a.reason==="EMAIL_NOT_VERIFIED"?g.value=!0:(a.reason==="INVALID_LOGIN_CREDENTIALS"||a.reason==="auth/invalid-credential"||a.reason==="auth/invalid-login-credentials")&&f.notify({type:"negative",message:"Invalid email or password",position:"top"}))},k=async()=>{v.value=!0;try{await l.resendVerificationEmail(),f.notify({type:"positive",message:"Verification email sent! Please check your inbox."})}catch{f.notify({type:"negative",message:"Failed to send verification email"})}v.value=!1},Q=async()=>{await l.loginWithGoogle()&&m.push("/dashboard")},I=async()=>{await l.loginWithFacebook()&&m.push("/dashboard")};return(a,e)=>{const C=D("router-link");return b(),y(N,{class:"flex flex-center bg-grey-2"},{default:s(()=>[t(L,{class:"auth-card q-pa-lg"},{default:s(()=>[t(_,{class:"text-center"},{default:s(()=>e[3]||(e[3]=[r("div",{class:"text-h4 text-weight-bold text-primary"},"Welcome Back",-1),r("div",{class:"text-subtitle1 text-grey-7"},"Login to continue your journey",-1)])),_:1}),t(_,null,{default:s(()=>[t(B,{onSubmit:V,class:"q-gutter-md"},{default:s(()=>[c.value?(b(),y(E,{key:0,class:"bg-negative text-white q-mb-md"},{default:s(()=>[w(F(c.value)+" ",1),g.value?(b(),y(d,{key:0,flat:"",color:"white",label:"Resend Verification Email",loading:v.value,onClick:k},null,8,["loading"])):h("",!0)]),_:1})):h("",!0),t(x,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),label:"Email",type:"email",filled:"",rules:[o=>!!o||"Email is required"]},null,8,["modelValue","rules"]),t(x,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=o=>n.value=o),label:"Password",type:u.value?"password":"text",filled:"",rules:[o=>!!o||"Password is required"]},{append:s(()=>[t(q,{name:u.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=o=>u.value=!u.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),t(d,{type:"submit",color:"primary",class:"full-width",size:"lg",loading:R(l).loading,label:"Login"},null,8,["loading"])]),_:1}),r("div",G,[e[4]||(e[4]=r("div",{class:"text-grey-6"},"Or continue with",-1)),r("div",O,[t(d,{flat:"",round:"",color:"red",icon:"fab fa-google",onClick:Q}),t(d,{flat:"",round:"",color:"blue",icon:"fab fa-facebook-f",onClick:I})])]),r("div",T,[t(C,{to:"/signup",class:"text-primary"},{default:s(()=>e[5]||(e[5]=[w(" Don't have an account? Sign up ")])),_:1})])]),_:1})]),_:1})]),_:1})}}},oe=A(j,[["__scopeId","data-v-2bff982a"]]);export{oe as default};
