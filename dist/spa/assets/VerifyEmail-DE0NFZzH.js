import{Q as k}from"./QBanner-y838-LvA.js";import{Q as p,a as q}from"./QBtn-17FMyXc4.js";import{Q as E}from"./QPage-DVutdtMA.js";import{u as T,x as n,K as w,M as y,N as o,O as x,T as t,S as u,a0 as Q,U as b,$ as _,R as m,V as d,W as h}from"./index-CIjYpYye.js";import{u as B}from"./use-quasar-kw6mk0Nd.js";import"./use-dark-DIdDd6RJ.js";import"./render-C8JR9mId.js";const N={class:"text-center q-pa-md"},S={key:1,class:"text-caption text-grey-7 q-mt-sm"},A={class:"text-positive"},U={__name:"VerifyEmail",setup(C){const f=T(),g=B(),c=n(!1),r=n(""),i=n(0),s=n(!1);let l=null;const v=(e=60)=>{i.value=e,s.value=!0,l=setInterval(()=>{i.value--,i.value<=0&&(clearInterval(l),s.value=!1)},1e3)},V=async()=>{if(s.value)return;c.value=!0,r.value="";const e=await f.resendVerificationEmail();e.success?(g.notify({type:"positive",message:"Verification email sent! Please check your inbox."}),v()):(r.value=e.error,(e.reason==="TOO_MANY_ATTEMPTS_TRY_LATER"||e.reason==="auth/too-many-requests")&&v(120)),c.value=!1};return w(()=>{l&&clearInterval(l)}),(e,a)=>(o(),y(E,{class:"flex flex-center"},{default:x(()=>[t("div",N,[Q(f).isEmailVerified?(o(),u(b,{key:1},[t("div",A,[m(q,{name:"check_circle",size:"4rem"}),a[2]||(a[2]=t("h2",{class:"text-h4 q-mb-md"},"Email Verified!",-1))]),m(p,{color:"primary",label:"Continue to Dashboard",to:"/dashboard"})],64)):(o(),u(b,{key:0},[a[0]||(a[0]=t("h2",{class:"text-h4 q-mb-md"},"Verify Your Email",-1)),a[1]||(a[1]=t("p",{class:"text-body1 q-mb-lg"},[d(" Please check your email for a verification link. "),t("br"),d("Didn't receive the email? ")],-1)),r.value?(o(),y(k,{key:0,class:"bg-negative text-white q-mb-md"},{default:x(()=>[d(h(r.value),1)]),_:1})):_("",!0),m(p,{color:"primary",label:"Resend Verification Email",loading:c.value,disable:s.value,onClick:V},null,8,["loading","disable"]),s.value?(o(),u("p",S," Please wait "+h(i.value)+" seconds before requesting another email ",1)):_("",!0)],64))])]),_:1}))}};export{U as default};
