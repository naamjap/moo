import{Q as _}from"./uid-CKt4xLxa.js";import{v as E,r as i,x as y,y as b,z as o,A as q,B as N,C as a,E as n,N as x,H as h,I as B,Q as d,M as L,O as S}from"./index-BaVYnzeZ.js";import{Q as P}from"./QBanner-DT5U7ZlN.js";import{Q as A,a as w}from"./QForm-WvtlJZrf.js";import{Q as D}from"./QCard-DpQni28h.js";import{Q as F}from"./QPage-CFXxS5AB.js";import{u as R}from"./use-quasar-C0v5808h.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-dark-DkeVdRfg.js";import"./focus-manager-zjdVGI5d.js";const O={class:"text-center q-py-md"},G={class:"row q-mt-md justify-center q-gutter-md"},M={class:"text-center q-mt-sm"},T={__name:"LoginPage",setup(j){const m=q(),f=R(),l=E(),p=i(""),r=i(""),u=i(!0),c=i(""),g=i(!1),v=i(!1),V=async()=>{c.value="",g.value=!1;const t=await l.login(p.value,r.value);t.success?m.push("/dashboard"):(c.value=l.error,r.value="",t.reason==="EMAIL_NOT_VERIFIED"?g.value=!0:(t.reason==="INVALID_LOGIN_CREDENTIALS"||t.reason==="auth/invalid-credential"||t.reason==="auth/invalid-login-credentials")&&f.notify({type:"negative",message:"Invalid email or password",position:"top"}))},k=async()=>{v.value=!0;try{await l.resendVerificationEmail(),f.notify({type:"positive",message:"Verification email sent! Please check your inbox."})}catch{f.notify({type:"negative",message:"Failed to send verification email"})}v.value=!1},Q=async()=>{await l.loginWithGoogle()&&m.push("/dashboard")},I=async()=>{await l.loginWithFacebook()&&m.push("/dashboard")};return(t,e)=>{const C=N("router-link");return b(),y(F,{class:"flex flex-center bg-grey-2"},{default:o(()=>[a(D,{class:"auth-card q-pa-lg"},{default:o(()=>[a(_,{class:"text-center"},{default:o(()=>e[3]||(e[3]=[n("div",{class:"text-h4 text-weight-bold text-primary"},"Welcome Back",-1),n("div",{class:"text-subtitle1 text-grey-7"},"Login to continue your journey",-1)])),_:1}),a(_,null,{default:o(()=>[a(A,{onSubmit:V,class:"q-gutter-md"},{default:o(()=>[c.value?(b(),y(P,{key:0,class:"bg-negative text-white q-mb-md"},{default:o(()=>[h(B(c.value)+" ",1),g.value?(b(),y(d,{key:0,flat:"",color:"white",label:"Resend Verification Email",loading:v.value,onClick:k},null,8,["loading"])):x("",!0)]),_:1})):x("",!0),a(w,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),label:"Email",type:"email",filled:"",rules:[s=>!!s||"Email is required"]},null,8,["modelValue","rules"]),a(w,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=s=>r.value=s),label:"Password",type:u.value?"password":"text",filled:"",rules:[s=>!!s||"Password is required"]},{append:o(()=>[a(L,{name:u.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=s=>u.value=!u.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),a(d,{type:"submit",color:"primary",class:"full-width",size:"lg",loading:S(l).loading,label:"Login"},null,8,["loading"])]),_:1}),n("div",O,[e[4]||(e[4]=n("div",{class:"text-grey-6"},"Or continue with",-1)),n("div",G,[a(d,{flat:"",round:"",color:"red",icon:"fab fa-google",onClick:Q}),a(d,{flat:"",round:"",color:"blue",icon:"fab fa-facebook-f",onClick:I})])]),n("div",M,[a(C,{to:"/signup",class:"text-primary"},{default:o(()=>e[5]||(e[5]=[h(" Don't have an account? Sign up ")])),_:1})])]),_:1})]),_:1})]),_:1})}}},ae=W(T,[["__scopeId","data-v-2bff982a"]]);export{ae as default};
