import{Q as V}from"./QBanner-BTITga4j.js";import{Q as p,a as q}from"./QBtn-Cke7Yyey.js";import{Q as E}from"./QPage-Cr3IgBl_.js";import{u as w,r as n,q as Q,s as y,t as o,v as b,B as t,A as u,J as T,F as x,I as _,z as m,C as d,D as h}from"./index-BJ09GzKv.js";import{u as B}from"./use-quasar-9wIAlBsN.js";import"./use-dark-Dy-s2eic.js";import"./render-C8JR9mId.js";const A={class:"text-center q-pa-md"},C={key:1,class:"text-caption text-grey-7 q-mt-sm"},I={class:"text-positive"},F={__name:"VerifyEmail",setup(N){const f=w(),g=B(),c=n(!1),r=n(""),i=n(0),s=n(!1);let l=null;const v=(e=60)=>{i.value=e,s.value=!0,l=setInterval(()=>{i.value--,i.value<=0&&(clearInterval(l),s.value=!1)},1e3)},k=async()=>{if(s.value)return;c.value=!0,r.value="";const e=await f.resendVerificationEmail();e.success?(g.notify({type:"positive",message:"Verification email sent! Please check your inbox."}),v()):(r.value=e.error,(e.reason==="TOO_MANY_ATTEMPTS_TRY_LATER"||e.reason==="auth/too-many-requests")&&v(120)),c.value=!1};return Q(()=>{l&&clearInterval(l)}),(e,a)=>(o(),y(E,{class:"flex flex-center"},{default:b(()=>[t("div",A,[T(f).isEmailVerified?(o(),u(x,{key:1},[t("div",I,[m(q,{name:"check_circle",size:"4rem"}),a[2]||(a[2]=t("h2",{class:"text-h4 q-mb-md"},"Email Verified!",-1))]),m(p,{color:"primary",label:"Continue to Dashboard",to:"/dashboard"})],64)):(o(),u(x,{key:0},[a[0]||(a[0]=t("h2",{class:"text-h4 q-mb-md"},"Verify Your Email",-1)),a[1]||(a[1]=t("p",{class:"text-body1 q-mb-lg"},[d(" Please check your email for a verification link. "),t("br"),d("Didn't receive the email? ")],-1)),r.value?(o(),y(V,{key:0,class:"bg-negative text-white q-mb-md"},{default:b(()=>[d(h(r.value),1)]),_:1})):_("",!0),m(p,{color:"primary",label:"Resend Verification Email",loading:c.value,disable:s.value,onClick:k},null,8,["loading","disable"]),s.value?(o(),u("p",C," Please wait "+h(i.value)+" seconds before requesting another email ",1)):_("",!0)],64))])]),_:1}))}};export{F as default};
