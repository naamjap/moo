import{Q as _,a as x}from"./QInput-DYImIU_I.js";import{Q as d,a as C}from"./QBtn-17FMyXc4.js";import{Q as E}from"./QBanner-y838-LvA.js";import{Q as N}from"./QForm-DxZQ6a8H.js";import{Q as L}from"./QCard-BrVvLl3f.js";import{Q as P}from"./QPage-DVutdtMA.js";import{u as S,x as i,M as y,N as b,O as s,P as B,Q as R,R as a,T as r,$ as h,V as w,W,a0 as D}from"./index-CIjYpYye.js";import{u as F}from"./use-quasar-kw6mk0Nd.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./render-C8JR9mId.js";import"./use-dark-DIdDd6RJ.js";import"./focus-manager-BJWzFvJg.js";const O={class:"text-center q-py-md"},T={class:"row q-mt-md justify-center q-gutter-md"},G={class:"text-center q-mt-sm"},M={__name:"LoginPage",setup($){const m=B(),f=F(),l=S(),p=i(""),n=i(""),u=i(!0),c=i(""),g=i(!1),v=i(!1),V=async()=>{c.value="",g.value=!1;const t=await l.login(p.value,n.value);t.success?m.push("/dashboard"):(c.value=l.error,n.value="",t.reason==="EMAIL_NOT_VERIFIED"?g.value=!0:(t.reason==="INVALID_LOGIN_CREDENTIALS"||t.reason==="auth/invalid-credential"||t.reason==="auth/invalid-login-credentials")&&f.notify({type:"negative",message:"Invalid email or password",position:"top"}))},Q=async()=>{v.value=!0;try{await l.resendVerificationEmail(),f.notify({type:"positive",message:"Verification email sent! Please check your inbox."})}catch{f.notify({type:"negative",message:"Failed to send verification email"})}v.value=!1},k=async()=>{await l.loginWithGoogle()&&m.push("/dashboard")},I=async()=>{await l.loginWithFacebook()&&m.push("/dashboard")};return(t,e)=>{const q=R("router-link");return b(),y(P,{class:"flex flex-center bg-grey-2"},{default:s(()=>[a(L,{class:"auth-card q-pa-lg"},{default:s(()=>[a(_,{class:"text-center"},{default:s(()=>e[3]||(e[3]=[r("div",{class:"text-h4 text-weight-bold text-primary"},"Welcome Back",-1),r("div",{class:"text-subtitle1 text-grey-7"},"Login to continue your journey",-1)])),_:1}),a(_,null,{default:s(()=>[a(N,{onSubmit:V,class:"q-gutter-md"},{default:s(()=>[c.value?(b(),y(E,{key:0,class:"bg-negative text-white q-mb-md"},{default:s(()=>[w(W(c.value)+" ",1),g.value?(b(),y(d,{key:0,flat:"",color:"white",label:"Resend Verification Email",loading:v.value,onClick:Q},null,8,["loading"])):h("",!0)]),_:1})):h("",!0),a(x,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),label:"Email",type:"email",filled:"",rules:[o=>!!o||"Email is required"]},null,8,["modelValue","rules"]),a(x,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=o=>n.value=o),label:"Password",type:u.value?"password":"text",filled:"",rules:[o=>!!o||"Password is required"]},{append:s(()=>[a(C,{name:u.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=o=>u.value=!u.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),a(d,{type:"submit",color:"primary",class:"full-width",size:"lg",loading:D(l).loading,label:"Login"},null,8,["loading"])]),_:1}),r("div",O,[e[4]||(e[4]=r("div",{class:"text-grey-6"},"Or continue with",-1)),r("div",T,[a(d,{flat:"",round:"",color:"red",icon:"fab fa-google",onClick:k}),a(d,{flat:"",round:"",color:"blue",icon:"fab fa-facebook-f",onClick:I})])]),r("div",G,[a(q,{to:"/signup",class:"text-primary"},{default:s(()=>e[5]||(e[5]=[w(" Don't have an account? Sign up ")])),_:1})])]),_:1})]),_:1})]),_:1})}}},oe=A(M,[["__scopeId","data-v-2bff982a"]]);export{oe as default};
